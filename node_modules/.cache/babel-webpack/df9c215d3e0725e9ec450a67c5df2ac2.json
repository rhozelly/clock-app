{"ast":null,"code":"import { AddEmployeeDialogComponent } from \"./add-employee-dialog/add-employee-dialog.component\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/material/dialog\";\nimport * as i2 from \"../core/services/profile.service\";\nimport * as i3 from \"@angular/material/snack-bar\";\nimport * as i4 from \"@angular/flex-layout/flex\";\nimport * as i5 from \"@angular/material/form-field\";\nimport * as i6 from \"@angular/material/input\";\nimport * as i7 from \"@angular/forms\";\nimport * as i8 from \"@angular/material/icon\";\nimport * as i9 from \"@angular/material/button\";\nimport * as i10 from \"@angular/common\";\nimport * as i11 from \"@angular/material/card\";\n\nfunction EmployeesComponent_mat_card_19_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"mat-card\", 13);\n    i0.ɵɵelementStart(1, \"mat-card-header\");\n    i0.ɵɵelementStart(2, \"div\", 14);\n    i0.ɵɵelement(3, \"img\", 15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"mat-card-title\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"mat-card-subtitle\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"button\", 16);\n    i0.ɵɵlistener(\"click\", function EmployeesComponent_mat_card_19_Template_button_click_8_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const employee_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return ctx_r2.openEmployeeDialog(\"update\", employee_r1);\n    });\n    i0.ɵɵelementStart(9, \"mat-icon\");\n    i0.ɵɵtext(10, \"launch\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(11, \"mat-card-content\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const employee_r1 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵpropertyInterpolate(\"src\", employee_r1.data.profile_img || ctx_r0.defaultProfileImage, i0.ɵɵsanitizeUrl);\n    i0.ɵɵpropertyInterpolate(\"alt\", employee_r1.data.first_name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\"\", employee_r1.data.last_name, \", \", employee_r1.data.first_name, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(employee_r1.data.email_add);\n  }\n}\n\nexport let EmployeesComponent = /*#__PURE__*/(() => {\n  class EmployeesComponent {\n    constructor(dialog, profileService, snackBar) {\n      this.dialog = dialog;\n      this.profileService = profileService;\n      this.snackBar = snackBar;\n      this.employees = [];\n      this.searchfield = [];\n      this.defaultProfileImage = 'assets/app-images/profile-default.jpg';\n    }\n\n    ngOnInit() {\n      this.getEmployees();\n    }\n\n    getEmployees() {\n      this.profileService.getAllProfiles().subscribe(result => {\n        this.employees = [];\n\n        if (result.length > 0) {\n          result.forEach(value => {\n            this.employees.push({\n              data: value.payload.doc.data(),\n              id: value.payload.doc.id\n            });\n          });\n        }\n      });\n    }\n\n    openEmployeeDialog(view, data) {\n      const dialogRef = this.dialog.open(AddEmployeeDialogComponent, {\n        width: '50%',\n        height: '640px',\n        disableClose: true,\n        data: {\n          action: view,\n          data: data\n        }\n      });\n      dialogRef.afterClosed().subscribe(result => {\n        this.getEmployees();\n      });\n    }\n\n    searchEmployee() {\n      if (this.searchfield.length) {\n        this.profileService.searchProfiles(this.searchfield).subscribe(result => {\n          this.employees = [];\n\n          if (result.length > 0) {\n            result.forEach(value => {\n              this.employees.push({\n                data: value.payload.doc.data(),\n                id: value.payload.doc.id\n              });\n            });\n          }\n        });\n      } else {\n        this.getEmployees();\n      }\n    }\n\n  }\n\n  EmployeesComponent.ɵfac = function EmployeesComponent_Factory(t) {\n    return new (t || EmployeesComponent)(i0.ɵɵdirectiveInject(i1.MatDialog), i0.ɵɵdirectiveInject(i2.ProfileService), i0.ɵɵdirectiveInject(i3.MatSnackBar));\n  };\n\n  EmployeesComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: EmployeesComponent,\n    selectors: [[\"app-employees\"]],\n    decls: 20,\n    vars: 2,\n    consts: [[\"fxLayout\", \"row\", \"fxLayoutAlign\", \"space-between center\", 1, \"employee-header__wrapper\"], [\"fxLayoutAlign\", \"start start\", \"fxFlex\", \"30\"], [1, \"page-title\"], [\"fxLayout\", \"row\", \"fxFlex\", \"\", \"fxLayoutAlign\", \"end end\"], [\"fxLayoutAlign\", \"start start\", \"fxFlex\", \"40\", 1, \"search__wrapper\"], [\"fxFlex\", \"\", \"appearance\", \"outline\", 1, \"employee-header__search\"], [\"matInput\", \"\", \"type\", \"search\", \"placeholder\", \"Search\", 3, \"ngModel\", \"ngModelChange\"], [\"matSuffix\", \"\"], [1, \"employee-header__button\"], [\"mat-button\", \"\", 1, \"medial-button\", 3, \"click\"], [\"fxLayout\", \"column\"], [\"fxFlex\", \"\", \"fxLayout\", \"row wrap\", \"fxLayoutAlign\", \"start start\", \"fxLayoutGap\", \"15px\", 1, \"employee-card__wrapper\"], [\"class\", \"employee-card\", \"fxFlex\", \"32\", 4, \"ngFor\", \"ngForOf\"], [\"fxFlex\", \"32\", 1, \"employee-card\"], [\"mat-card-avatar\", \"\", 1, \"card-thumbnail\"], [1, \"thumbnail\", 3, \"src\", \"alt\"], [\"mat-icon-button\", \"\", 1, \"open-list\", 3, \"click\"]],\n    template: function EmployeesComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵelementStart(2, \"span\", 2);\n        i0.ɵɵtext(3, \"Employees\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"div\", 3);\n        i0.ɵɵelementStart(5, \"div\", 4);\n        i0.ɵɵelementStart(6, \"mat-form-field\", 5);\n        i0.ɵɵelementStart(7, \"mat-label\");\n        i0.ɵɵtext(8, \"Search\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"input\", 6);\n        i0.ɵɵlistener(\"ngModelChange\", function EmployeesComponent_Template_input_ngModelChange_9_listener($event) {\n          return ctx.searchfield = $event;\n        })(\"ngModelChange\", function EmployeesComponent_Template_input_ngModelChange_9_listener() {\n          return ctx.searchEmployee();\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"mat-icon\", 7);\n        i0.ɵɵtext(11, \"search\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"div\", 8);\n        i0.ɵɵelementStart(13, \"button\", 9);\n        i0.ɵɵlistener(\"click\", function EmployeesComponent_Template_button_click_13_listener() {\n          return ctx.openEmployeeDialog(\"add\", \"\");\n        });\n        i0.ɵɵelementStart(14, \"mat-icon\");\n        i0.ɵɵtext(15, \"add\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(16, \" Add Employee \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"div\", 10);\n        i0.ɵɵelementStart(18, \"div\", 11);\n        i0.ɵɵtemplate(19, EmployeesComponent_mat_card_19_Template, 12, 5, \"mat-card\", 12);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(9);\n        i0.ɵɵproperty(\"ngModel\", ctx.searchfield);\n        i0.ɵɵadvance(10);\n        i0.ɵɵproperty(\"ngForOf\", ctx.employees);\n      }\n    },\n    directives: [i4.DefaultLayoutDirective, i4.DefaultLayoutAlignDirective, i4.DefaultFlexDirective, i5.MatFormField, i5.MatLabel, i6.MatInput, i7.DefaultValueAccessor, i7.NgControlStatus, i7.NgModel, i8.MatIcon, i5.MatSuffix, i9.MatButton, i4.DefaultLayoutGapDirective, i10.NgForOf, i11.MatCard, i11.MatCardHeader, i11.MatCardAvatar, i11.MatCardTitle, i11.MatCardSubtitle, i11.MatCardContent],\n    styles: [\".employee-header__wrapper[_ngcontent-%COMP%]{padding:10px 20px}.employee-header__button[_ngcontent-%COMP%]{text-align:center;margin-top:-20px}.employee-header__button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:6px 30px;margin:0 19px}.employee-card__wrapper[_ngcontent-%COMP%]{padding:20px}.employee-card[_ngcontent-%COMP%]{margin-bottom:15px}.open-list[_ngcontent-%COMP%]{position:absolute;right:5px;top:2px}.card-thumbnail[_ngcontent-%COMP%]{width:150px;height:150px;border-radius:50%;overflow:hidden}.mat-card-title[_ngcontent-%COMP%]{font-size:30px;padding:20px 0 4px}.search__wrapper[_ngcontent-%COMP%]{margin-bottom:-25px}\"]\n  });\n  return EmployeesComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}